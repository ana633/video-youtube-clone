{"ast":null,"code":"var _jsxFileName = \"/Users/anasaldana/Desktop/video-youtube-clone/client/src/components/Comments.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nimport Comment from \"./Comment\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Container = styled.div``;\n_c = Container;\nconst Button = styled.button`\n  padding: 5px;\n  background-color: ${_ref => {\n  let {\n    theme\n  } = _ref;\n  return theme.bg;\n}};\n  color: white;\n  font-weight: 500;\n  // margin-top: 60px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  border-radius: 20px;\n  opacity: 60%;\n  gap: 5px;\n  &:hover {\n    background-color: ${_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme.soft;\n}};\n  }\n`;\n_c2 = Button;\nconst NewComment = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 10px;\n`;\n_c3 = NewComment;\nconst Avatar = styled.img`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n`;\n_c4 = Avatar;\nconst Input = styled.input`\n  border: none;\n  border-bottom: 1px solid ${_ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme.soft;\n}};\n  color: ${_ref4 => {\n  let {\n    theme\n  } = _ref4;\n  return theme.text;\n}};\n  background-color: transparent;\n  outline: none;\n  padding: 5px;\n  width: 70%;\n`;\n_c5 = Input;\n\nconst Comments = _ref5 => {\n  _s();\n\n  let {\n    videoId\n  } = _ref5;\n  const {\n    currentUser\n  } = useSelector(state => state.user);\n  const [comments, setComments] = useState([]);\n  const [showButton, setShowButton] = useState(false);\n  const [input, setInput] = useState(\"\");\n  useEffect(() => {\n    const fetchComments = async () => {\n      try {\n        const res = await axios.get(`/api/comments/${videoId}`);\n        setComments(res.data);\n      } catch (err) {}\n    };\n\n    fetchComments();\n  }, [videoId]);\n\n  const handleAddComment = async e => {\n    e.preventDefault();\n    console.log(input, videoId);\n\n    try {\n      await axios.post(\"/api/comments\", {\n        \"desc\": input,\n        \"videoId\": videoId\n      });\n      window.location.reload();\n    } catch (error) {}\n\n    setShowButton(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(NewComment, {\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        src: currentUser === null || currentUser === void 0 ? void 0 : currentUser.img\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), showButton ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"Add a comment...\",\n          onMouseEnter: () => setShowButton(true),\n          onChange: e => setInput(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleAddComment,\n          children: \"Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            setInput(\"\");\n            setShowButton(false);\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Add a comment...\",\n        onMouseEnter: () => setShowButton(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), comments.map(comment => /*#__PURE__*/_jsxDEV(Comment, {\n      comment: comment\n    }, comment._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Comments, \"mhagiXiFA/H1BrpBaV6HVX7JItg=\", false, function () {\n  return [useSelector];\n});\n\n_c6 = Comments;\nexport default Comments;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Button\");\n$RefreshReg$(_c3, \"NewComment\");\n$RefreshReg$(_c4, \"Avatar\");\n$RefreshReg$(_c5, \"Input\");\n$RefreshReg$(_c6, \"Comments\");","map":{"version":3,"names":["React","useEffect","useState","styled","useSelector","Comment","axios","Container","div","Button","button","theme","bg","soft","NewComment","Avatar","img","Input","input","text","Comments","videoId","currentUser","state","user","comments","setComments","showButton","setShowButton","setInput","fetchComments","res","get","data","err","handleAddComment","e","preventDefault","console","log","post","window","location","reload","error","target","value","map","comment","_id"],"sources":["/Users/anasaldana/Desktop/video-youtube-clone/client/src/components/Comments.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nimport Comment from \"./Comment\";\nimport axios from \"axios\";\n\nconst Container = styled.div``;\n\nconst Button = styled.button`\n  padding: 5px;\n  background-color: ${({ theme }) => theme.bg};\n  color: white;\n  font-weight: 500;\n  // margin-top: 60px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  border-radius: 20px;\n  opacity: 60%;\n  gap: 5px;\n  &:hover {\n    background-color: ${({ theme }) => theme.soft};\n  }\n`;\n\nconst NewComment = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 10px;\n`;\n\nconst Avatar = styled.img`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n`;\n\nconst Input = styled.input`\n  border: none;\n  border-bottom: 1px solid ${({ theme }) => theme.soft};\n  color: ${({ theme }) => theme.text};\n  background-color: transparent;\n  outline: none;\n  padding: 5px;\n  width: 70%;\n`;\n\nconst Comments = ({videoId}) => {\n  const { currentUser } = useSelector((state) => state.user);\n\n  const [comments, setComments] = useState([]);\n  const [showButton, setShowButton] = useState(false);\n  const [input, setInput] = useState(\"\");\n\n  useEffect(() => {\n    const fetchComments = async () => {\n      try {\n        const res = await axios.get(`/api/comments/${videoId}`);\n        setComments(res.data);\n      } catch (err) {}\n    };\n    fetchComments();\n  }, [videoId]);\n\n  const handleAddComment = async (e) => {\n    e.preventDefault();\n    console.log(input,videoId);\n    try {\n      await axios.post(\"/api/comments\", {\"desc\":input, \"videoId\":videoId });\n      window.location.reload();\n    }catch(error){\n      \n    }\n    setShowButton(false);\n  };\n\n  return (\n    <Container>\n      <NewComment>\n        <Avatar src={currentUser?.img}/>\n        {\n          showButton ? (\n            <>\n            <Input \n            placeholder=\"Add a comment...\" \n            onMouseEnter={() =>setShowButton(true)}\n            onChange={(e) => setInput(e.target.value)}\n            />\n            <Button onClick={handleAddComment}>Comment</Button>\n            <Button onClick={() => {setInput(\"\"); setShowButton(false);}}>Cancel</Button>\n            </>\n          ) : (\n            <Input \n            placeholder=\"Add a comment...\" \n            onMouseEnter={() =>setShowButton(true)}\n            />\n            \n          )\n        }\n      </NewComment>\n      {\n        comments.map(comment => (\n          <Comment key={comment._id} comment={comment}/>\n        ))\n      }\n    </Container>\n  );\n};\n\nexport default Comments;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}